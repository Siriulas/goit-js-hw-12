{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '44807177-c49104cccf7249c598a5adf77';\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n\n      return res.json();\n    })\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Fetch error: ', error);\n      throw error;\n    });\n}\n","// render-functions.js\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet lightbox;\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images.map(image => createImageCard(image)).join('');\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"image-card\">\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n       <div> <p>Likes: <p>${image.likes}</p></p></div>\n        <div><p>Views: <p>${image.views}</p></p></div>\n        <div><p>Comments: <p>${image.comments}</p></p></div>\n       <div> <p>Downloads: <p>${image.downloads}</p></p></div>\n      </div>\n    </div>\n  `;\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nexport function showMessage(message) {\n  iziToast.error({\n    message: message,\n    messageColor: '#fff',\n    position: 'topRight',\n    color: '#ef4040',\n  });\n}\n\nexport function showLoading() {\n  const loader = document.createElement('div');\n  loader.classList.add('loader');\n  document.body.appendChild(loader);\n}\n\nexport function hideLoading() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showMessage,\n  showLoading,\n  hideLoading,\n  clearGallery,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (!query) {\n    showMessage('Please enter a search term');\n    return;\n  }\n\n  clearGallery();\n  showLoading();\n\n  fetchImages(query)\n    .then(images => {\n      hideLoading();\n      if (images.length === 0) {\n        showMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n        renderImages(images);\n      }\n    })\n    .catch(error => {\n      hideLoading();\n      clearGallery();\n      showMessage('Failed to fetch images. Please try again later.');\n      console.error('Fetch error: ', error);\n    });\n});\n"],"names":["fetchImages","query","res","data","error","lightbox","renderImages","images","gallery","image","createImageCard","SimpleLightbox","clearGallery","showMessage","message","iziToast","showLoading","loader","hideLoading","form","input","event"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAGjC,OAAO,MACL,qEAAgCA,CAAK,0DACtC,EACE,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,gBAAiBA,CAAK,EAC9BA,CACZ,CAAK,CACL,CCXA,IAAIC,EAEG,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACnEJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAY,CAE9C,CAEA,SAASD,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4BAG9BA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI/C,CAEO,SAASG,GAAe,CAC7B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASK,EAAYC,EAAS,CACnCC,EAAS,MAAM,CACb,QAASD,EACT,aAAc,OACd,SAAU,WACV,MAAO,SACX,CAAG,CACH,CAEO,SAASE,GAAc,CAC5B,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,YAAYA,CAAM,CAClC,CAEO,SAASC,GAAc,CAC5B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,CCnDA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAEpDD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMpB,EAAQmB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACnB,EAAO,CACVY,EAAY,4BAA4B,EACxC,MACD,CAEDD,IACAI,IAEAhB,EAAYC,CAAK,EACd,KAAKM,GAAU,CACdW,IACIX,EAAO,SAAW,EACpBM,EACE,0EACV,EAEQP,EAAaC,CAAM,CAE3B,CAAK,EACA,MAAMH,GAAS,CACdc,IACAN,IACAC,EAAY,iDAAiD,EAC7D,QAAQ,MAAM,gBAAiBT,CAAK,CAC1C,CAAK,CACL,CAAC"}